<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css?family=Assistant:400,700,800" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet">

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <title>Graff pink</title>

    <link rel="stylesheet" href="assets/style/style.css"/>
</head>
<body>
	<header>
		<nav>
			<div class="logo">
				<span>Graff</span>
				<span style="color: #b73958;">pink</span>
			</div>
			<div class="nav_cont">
				<a href="#">Home</a>
				<a href="#">About Us</a>
				<a href="#">Services</a>
				<a href="#">Contact</a>
				<button>Login</button>
			</div>
		</nav>
		<div id="banner_image">
			<h1>Welcome to Pink</h1>
			<p>A multi purpose theme from cssauthor.com</p>
		</div>

	</header>
	<main>
		<h2>Lorem Ipsum is simply dummy </h2>
		<p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown</p>
		<div class="services">
			<button>
				<figure class="tickets">
					<img src="assets/img/tickets.png" alt="">
					<figcapture>Tickets</figcapture>
				</figure>
			</button>
			<figure class="camera">
				<img src="assets/img/camera.png" alt="">
				<figcapture>Camera</figcapture>
			</figure>
			<figure class="beer">
				<img src="assets/img/beer.png" alt="">
				<figcapture>Beer</figcapture>
			</figure>
			<figure class="devices">
				<img src="assets/img/ipad.png" alt="">
				<figcapture>Devices</figcapture>
			</figure>
		</div>
	</main>
	<section class="albums"></section>

	<form name="popup">
		<fieldset>
			<legend>Please select a search option:</legend>
		    <label id="album_id">
				<input type="radio" name="user_choice" value="album_id" checked>
		    	<span>By Album number</span>
		    </label>
		    <label id="photo_id">
			    <input type="radio" name="user_choice" value="photo_id">
		    	<span>By photo id</span>
		    </label>
		</fieldset>
	    <label id="album_id_field">
	    	<select name="album_id_select">
				<option value="1" >One</option>
				<option value="2" >Two</option>
				<option value="3" >Three</option>
				<option value="4" >Four</option>
				<option value="5" >Five</option>
				<option value="6" >Six</option>
				<option value="7" >Seven</option>
				<option value="8" >Eight</option>
				<option value="9" >Nine</option>
				<option value="10">Ten</option>
	    	</select>
	    </label>
	    <label id="photo_id_field" style="display: none">
	    	<input type="number">
	    </label>
		<input type="submit" value="Submit">
	</form>

	<script>
		var popup = document.forms['popup'];

		var openPopupBtn = document.querySelector('.services button');
		openPopupBtn.addEventListener('click', function(e){
			popup.classList.add('show');
		})
		openPopupBtn.click();

		var radios = popup.querySelectorAll('[name=user_choice]');
		for (var i = 0; i < radios.length; i++) {
			radios[i].addEventListener('change', function (event) {
				console.log(event.target.value)
				popup.querySelector('#album_id_field').style.display = 'none';
				popup.querySelector('#photo_id_field').style.display = 'none';
				popup.querySelector('#' + event.target.value + '_field').style.display = 'block';
			})
		}

		popup.addEventListener('submit', function (event) {
			event.preventDefault();
		})

		fetch('https://jsonplaceholder.typicode.com/photos')
		.then(function(response) {
			return response.json();
		})
		.then(function (data) {
			console.log(data[0]);

			var albums = document.querySelector('.albums');
			var itemLength = 20;
			console.log(createItem(data[0]));
			for (var i = 0; i < itemLength; i++) {
				albums.append(createItem(data[i]));
			}

		})
		.catch(function (e) {console.error(e)})

		function createItem (obj) {
			var container = document.createElement('section');
			container.classList.add('album');

			var thumbnail = document.createElement('img');
			thumbnail.src = obj.thumbnailUrl;
			thumbnail.alt = obj.title;
			thumbnail.title = obj.title;
			container.append(thumbnail);

			var content = document.createElement('div');
			content.classList.add('content');
			container.append(content);

			var title = document.createElement('h3')
			title.textContent = obj.title;
			content.append(title)

			return container;
		}

	</script>
</body>
</html>